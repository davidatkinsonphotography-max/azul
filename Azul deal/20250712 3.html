<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Azul Game Setup</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    #scaler {
      transform-origin: top left;
      width: 1920px;
      height: 1080px;
      position: absolute;
      top: 0;
      left: 0;
    }
    #game {
      position: relative;
      width: 1920px;
      height: 1080px;
      background-size: cover;
    }
    .tickbox {
      position: absolute;
      width: 50px;
      height: 50px;
      cursor: pointer;
    }
    #tick1 { left: 1358px; top: 93px; }
    #tick2 { left: 1358px; top: 203px; }
    #tick3 { left: 1358px; top: 313px; }
    #tick4 { left: 1358px; top: 423px; }

    .namefield {
      position: absolute;
      width: 390px;
      height: 90px;
      left: 1433px;
      background-color: rgba(255, 255, 255, 0);
      color: #333;
      font-family: 'Docktrin', sans-serif;
      font-size: 36px;
      text-align: left;
      border: none;
      outline: none;
      /* padding-left: 10px; */
    }
    #name1 { top: 73px; }
    #name2 { top: 186px; }
    #name3 { top: 299px; }
    #name4 { top: 412px; }

    .disk {
      position: absolute;
      background-size: cover;
      width: 280px;
      height: 280px;
    }
    #disk1  { left: 89px; top: 181px; }
    #disk2  { left: 378px; top: 131px; }
    #disk3  { left: 658px; top: 181px; }
    #disk4  { left: 48px; top: 461px; }
    #disk5  { left: 362px; top: 445px; width: 312px; height: 312px; }
    #disk6  { left: 708px; top: 461px; }
    #disk7  { left: 89px; top: 741px; }
    #disk8  { left: 378px; top: 791px; }
    #disk9  { left: 658px; top: 741px; }

    #onebox {
      position: absolute;
      width: 110px;
      height: 110px;
      background-size: cover;
      left: 1133px;
      top: 430px;
      transform: rotate(0deg);
    }

    #deal-button {
      position: absolute;
      left: 810px;
      top: 49px;
      width: 300px;
      height: 114px;
      cursor: pointer;
    }

    .tile {
      position: absolute;
      width: 110px;
      height: 110px;
      background-size: cover;
      transition: top 0.6s ease, left 0.6s ease, opacity 0.4s ease, transform 0.6s ease;
      cursor: pointer;
      pointer-events: auto;
    }

    #excess-area {
      position: absolute;
      left: 1078px;
      top: 572px;
      width: 770px;
      height: 440px;
      display: grid;
      grid-template-columns: repeat(7, 110px);
      grid-template-rows: repeat(4, 110px);
    }

    .current-player {
      box-shadow: 0 0 20px 8px rgba(0, 100, 255, 0.8); /* even blue glow */
      outline: 0px solid #0064ff;
      outline-offset: 0px;
      transition: box-shadow 0.3s ease, outline 0.3s ease;
      width: 390px;
      height: 90px;
      left: 1433px;
    }

    .nameHighlight {
      box-shadow: 0 0 15px 5px red !important;
      border: none;
    }
  </style>
  <!-- Preload background and tile images for performance -->
  <link rel="preload" href="background5.jpg" as="image">
  <link rel="preload" href="background7.jpg" as="image">
  <link rel="preload" href="background9.jpg" as="image">
  <link rel="preload" href="aquatile.png" as="image">
  <link rel="preload" href="redtile.png" as="image">
  <link rel="preload" href="blacktile.png" as="image">
  <link rel="preload" href="bluetile.png" as="image">
  <link rel="preload" href="orangetile.png" as="image">
  <link rel="preload" href="tick.png" as="image">
  <link rel="preload" href="untick.png" as="image">
  <link rel="preload" href="dealup.png" as="image">
  <link rel="preload" href="dealdown.png" as="image">
  <link rel="preload" href="onebox.png" as="image">
</head>
<body>
  <div id="scaler">
    <div id="game">
      <!-- Tickboxes -->
      <img id="tick1" class="tickbox" src="untick.png" alt="Player 1 toggle" aria-label="Player 1 toggle">
      <img id="tick2" class="tickbox" src="untick.png" alt="Player 2 toggle" aria-label="Player 2 toggle">
      <img id="tick3" class="tickbox" src="untick.png" alt="Player 3 toggle" aria-label="Player 3 toggle">
      <img id="tick4" class="tickbox" src="untick.png" alt="Player 4 toggle" aria-label="Player 4 toggle">

      <!-- Player Name Fields -->
      <input id="name1" class="namefield" placeholder="Player 1" aria-label="Player 1 name">
      <input id="name2" class="namefield" placeholder="Player 2" aria-label="Player 2 name">
      <input id="name3" class="namefield" placeholder="Player 3" aria-label="Player 3 name">
      <input id="name4" class="namefield" placeholder="Player 4" aria-label="Player 4 name">

      <!-- Disks -->
      <div id="disk1" class="disk" aria-label="Disk 1"></div>
      <div id="disk2" class="disk" aria-label="Disk 2"></div>
      <div id="disk3" class="disk" aria-label="Disk 3"></div>
      <div id="disk4" class="disk" aria-label="Disk 4"></div>
      <div id="disk5" class="disk" aria-label="Disk 5"></div>
      <div id="disk6" class="disk" aria-label="Disk 6"></div>
      <div id="disk7" class="disk" aria-label="Disk 7"></div>
      <div id="disk8" class="disk" aria-label="Disk 8"></div>
      <div id="disk9" class="disk" aria-label="Disk 9"></div>

      <!-- Onebox -->
      <img id="onebox" src="onebox.png" alt="Onebox">

      <!-- Deal Button -->
      <img id="deal-button" src="dealup.png" alt="Deal tiles" aria-label="Deal tiles">

      <!-- Excess Area -->
      <div id="excess-area" aria-label="Excess tile area"></div>
      <!-- DEBUG: Test Onebox Move Button -->
      <!--<button id="test-move-onebox" style="position:absolute;top:10px;left:10px;z-index:9999;">Test Move Onebox to Player 1</button> -->
    </div>
  </div>
  <script src="newmain2.js"></script>
  <script>
    // Attach test button handler after GameManager is constructed
    window.addEventListener('DOMContentLoaded', function() {
      const btn = document.getElementById('test-move-onebox');
      btn.addEventListener('click', function() {
        if (window.gameManager) window.gameManager.moveOneboxToPlayer(0);
      });
    });
  </script>
</body>
</html>
